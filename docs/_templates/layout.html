{% extends "!layout.html" %}
{% block extrahead %}
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="{{ pathto('_static/css/bootstrap.css',1) }}" rel="stylesheet">
{% endblock %}

{% block sidebartitle %}
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="{{ pathto('_static/img/' + 'SimCenter-Only.png', 1) }}" class="logo" alt="{{ _('Org-Logo') }}" />
</a>
<hr style="margin: 0px;">
{% if logo and theme_logo_only %}
  <a href="{{ pathto(master_doc) }}">
{% else %}
  <a href="{{ pathto(master_doc) }}" class="icon icon-home"> {{ project }}
{% endif %}

{% if logo %}
  {# Not strictly valid HTML, but it's the only way to display/scale
     it properly, without weird scripting or heaps of work
  #}
  <img src="{{ pathto('_static/' + logo, 1) }}" class="logo" alt="{{ _('Logo') }}"/>
{% endif %}
</a>

{% if theme_display_version %}
  {%- set nav_version = version %}
  {% if READTHEDOCS and current_version %}
    {%- set nav_version = current_version %}
  {% endif %}
  {% if nav_version %}
    <div class="version">
      {{ nav_version }}
    </div>
  {% endif %}
{% endif %}

{% include "searchbox.html" %}

{% endblock %}
  {% block footer %} {{ super() }}

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>
{% endblock %}
